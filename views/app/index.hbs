{{#if posts}}



<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    {{#each posts}}

    <div class="carousel-item">

      <img class="d-block w-100" src="https://s3.amazonaws.com/stagebright/uploads{{url}}" data-color="lightblue" alt="First Image">
      <div class="overlay"><a class="card-title" href="/post/{{id}}"></a>
        <div class="carousel-caption d-md-block">
          <a class="card-title" href="/post/{{id}}">
            <h4 class="shadow large">{{title}}</h4>
          </a>
          <a href="/user/{{ author.id }}" class="">
            <h4 class="shadow small">{{author.name}}
          </a>
          <p class="small mt-2">{{mediatype}} - {{likes}} likes</p>
          </h4>
        </div>
      </div>


    </div>

    {{/each}}


  </div>
  <!-- Controls -->
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

{{/if}}
</div>

<script>
  var $item = $('.carousel-item');
  var $wHeight = $(window).height();
  $item.eq(0).addClass('active');
  $item.height($wHeight);
  $item.addClass('full-screen');

  $('.carousel img').each(function () {
    var $src = $(this).attr('src');
    var $color = $(this).attr('data-color');
    $(this).parent().css({
      'background-image': 'url(' + $src + ')',
      'background-color': $color
    });
    $(this).remove();
  });

  $(window).on('resize', function () {
    $wHeight = $(window).height();
    $item.height($wHeight);
  });

  $('.carousel').carousel({
    interval: 6000,
    pause: "false"
  });
</script>