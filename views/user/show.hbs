<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    {{#if user.posts}}

    {{!-- INTRODUCTION --}}

    <div class="carousel-item">

      <img class="d-block w-100" src="https://www.transparenttextures.com/patterns/asfalt-light.png" data-color="lightblue"
        alt="First Image">
      <div class="overlay"><a class="card-title" href="/post/{{id}}"></a>
        <div class="carousel-caption d-md-block">
          <h4 class="shadow large">{{user.name}}</h4>
          {{#if user.bio}}
          <h4 class="shadow">Bio: {{user.bio}}</h4>
          {{else}}
          No bio added yet
          {{/if}}
          <a href="mailto:{{user.email}}">
            <p class="small mt-2">{{user.email}}</p>
          </a>
          {{#equal currentUser.id user.id }}
          <a href="/user/{{currentUser.id}}/edit" class="mt-7">Update info</a>
          {{/equal}}
        </div>
      </div>

    </div>

    {{#each user.posts}}
    {{!-- ACTUAL POSTS --}}

    <div class="carousel-item">

      <img class="d-block w-100" src="https://s3.amazonaws.com/stagebright/uploads{{url}}" data-color="lightblue" alt="First Image">
      <div class="overlay"><a class="card-title" href="/post/{{id}}"></a>
        <div class="carousel-caption d-md-block">
          <a class="card-title" href="/post/{{id}}">
            <h4 class="shadow large">{{title}}</h4>
          </a>
          <a href="https://s3.amazonaws.com/stagebright/uploads{{url}}">
            Download
          </a>
          <p class="small mt-2">{{mediatype}} - {{likes}} likes</p>
          </h4>
        </div>
      </div>

    </div>

    {{/each}}

    {{else}}

    {{!-- IF PERSON DOESNT HAVE ANY WORKS!!!! --}}
    <div class="carousel-item">

      <img class="d-block w-100" src="https://www.transparenttextures.com/patterns/asfalt-light.png" data-color="lightblue"
        alt="First Image">
      <div class="overlay"><a class="card-title" href="/post/{{id}}"></a>
        <div class="carousel-caption d-md-block">
          <h4 class="shadow large">{{user.name}}</h4>
          {{#if user.bio}}
          <h4 class="shadow">{{user.bio}}</h4>
          {{else}}
          No bio added yet
          {{/if}}
          <p class="small mt-2">No artworks yet</p>
          {{#equal currentUser.id user.id }}
          <a href="/user/{{currentUser.id}}/edit" class="mt-7">Update info</a>
          {{/equal}}
        </div>
      </div>

    </div>

    {{/if}}


  </div>
  <!-- Controls -->
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

</div>



<script>
  var $item = $('.carousel-item');
  var $wHeight = $(window).height();
  $item.eq(0).addClass('active');
  $item.height($wHeight);
  $item.addClass('full-screen');

  $('.carousel img').each(function () {
    var $src = $(this).attr('src');
    var $color = $(this).attr('data-color');
    $(this).parent().css({
      'background-image': 'url(' + $src + ')',
      'background-color': $color
    });
    $(this).remove();
  });

  $(window).on('resize', function () {
    $wHeight = $(window).height();
    $item.height($wHeight);
  });

  $('.carousel').carousel({
    interval: 6000,
    pause: "false"
  });
</script>